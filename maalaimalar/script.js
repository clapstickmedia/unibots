mybotLoadAdDefault = 1;
mybotAuthEnabled = 1;
mybotClickLocation = '';
var botPosition = 'right';
var mybotClickCountEnabled = 1;
var mybotCloseEnabled = 0;
var mybotMultipleIconsEnabled=0;
var myBotMenuCustomTopText='\u0bb5\u0ba3\u0b95\u0bcd\u0b95\u0bae\u0bcd\u0021 \u0ba8\u0bbe\u0ba9\u0bcd\u0ba4\u0bbe\u0ba9\u0bcd \u201c\u0bae\u0bb2\u0bb0\u0bcd\u0baa\u0bcb\u0b9f\u0bcd\u201d \u003b \u0b8e\u0ba9\u0bcd\u0bae\u0bc2\u0bb2\u0bae\u0bbe \u0b89\u0b99\u0bcd\u0b95\u0bb3\u0bc1\u0b95\u0bcd\u0b95\u0bc1 \u0ba4\u0bc7\u0bb5\u0bc8\u0baf\u0bbe\u0ba9 \u0b9a\u0bc6\u0baf\u0bcd\u0ba4\u0bbf\u0b95\u0bb3\u0bc8 \u0ba8\u0bc0\u0b99\u0bcd\u0b95 \u0b88\u0bb8\u0bbf\u0baf\u0bbe \u0ba4\u0bc6\u0bb0\u0bbf\u0b9e\u0bcd\u0b9a\u0bc1\u0b95\u0bcd\u0b95\u0bb2\u0bbe\u0bae\u0bcd\u2026';
var myBotMenuCustomTopTextCats= '\u0b87\u0ba4\u0bcb \u0b89\u0b99\u0bcd\u0b95\u0bb3\u0bc1\u0b95\u0bcd\u0b95\u0bbe\u0ba9 \u0b92\u0bb0\u0bc1 \u0b9a\u0bc6\u0baf\u0bcd\u0ba4\u0bbf\u0ba4\u0bcd\u0ba4\u0bca\u0b95\u0bc1\u0baa\u0bcd\u0baa\u0bc1\u0021';
var mybotContextTitle = 'maalaimalar';
var mybotSearchKey = 'AIzaSyACypoI-jiI9LnTHKy2-pEaURiB7QTw3VQ';
var mybotSearchcx = '014298403546801028055:0bvribxe0x4';
mybotLang = 'tamil';
mybottlang = 'ta';
botSearchDisplayText = '\u0b87\u0ba4\u0bc1 \u0b89\u0b99\u0bcd\u0b95\u0bb3\u0bc1\u0b95\u0bcd\u0b95\u0bbe\u0b95 \u2026\u002e';
botSearchDisplayTextNF = '\u0bae\u0ba9\u0bcd\u0ba9\u0bbf\u0b95\u0bcd\u0b95\u0bb5\u0bc1\u0bae\u0bcd\u002e\u002e \u0ba8\u0bc0\u0b99\u0bcd\u0b95\u0bb3\u0bcd \u0ba4\u0bc7\u0b9f\u0bbf\u0baf \u0ba4\u0b95\u0bb5\u0bb2\u0bc8 \u0b87\u0bae\u0bcd\u0bae\u0bc1\u0bb1\u0bc8 \u0b8e\u0ba9\u0bcd\u0ba9\u0bbe\u0bb2\u0bcd \u0b95\u0bca\u0b9f\u0bc1\u0b95\u0bcd\u0b95 \u0bae\u0bc1\u0b9f\u0bbf\u0baf\u0bb5\u0bbf\u0bb2\u0bcd\u0bb2\u0bc8';
botSearchPlaceholder = '\u0b89\u0b99\u0bcd\u0b95\u0bb3\u0bcd \u0b95\u0bc7\u0bb3\u0bcd\u0bb5\u0bbf \u003f';

var mybotScrollFlag = 0;
mybotScrollStartFlag = 0;
var mybotScrollPixelHeight = 45;
mybotScrollStartPixelHeight = 0;
var mybotIsBottomScrollDisapperEnabled = 1;
var mybotIsBottomScrollStartDisapperEnabled = 1;
mybotMobileTopPlacement = 1;
imageSearchExp = 1;

var xDown = null;
var yDown = null;

mybotCat1 = '\u0bae\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0baf\u0b9a\u0bcd\u0b9a\u0bc6\u0baf\u0bcd\u0ba4\u0bbf\u0b95\u0bb3\u0bcd';
mybotCat2 = '\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe';
mybotCat3 = '\u0ba4\u0bae\u0bbf\u0bb4\u0bcd\u0ba8\u0bbe\u0b9f\u0bc1';
mybotCat4 = '\u0b89\u0bb2\u0b95\u0bae\u0bcd';
mybotCat5 = '\u0b9a\u0bbf\u0ba9\u0bbf\u0bae\u0bbe';
mybotCat6 = '\u0bb5\u0bbf\u0bb3\u0bc8\u0baf\u0bbe\u0b9f\u0bcd\u0b9f\u0bc1';
mybotCatMore = '\u0bae\u0bc7\u0bb2\u0bc1\u0bae\u0bcd\u002e\u002e\u002e';

mybotGACode = 'UA-138719500-1';

function function1(){
openNewsCategoryWise('top',0,mybotLang,mybotCat1,mybotCat1);};
function function2(){
openNewsCategoryWise('national',0,mybotLang,mybotCat2,mybotCat2);};
function function3(){
openNewsCategoryWise('state',0,mybotLang,mybotCat3,mybotCat3);};
function function4(){
openNewsCategoryWise('world',0,mybotLang,mybotCat4,mybotCat4);};
function function5(){
openNewsCategoryWise('cinema',0,mybotLang,mybotCat5,mybotCat5);};
function function6(){
openNewsCategoryWise('sports',0,mybotLang,mybotCat6,mybotCat6);};
function function7(){
changeNewsCategories();};

mybotBundle1 = '<div class="botSmartButton"><span class="botSmartButtonSpan" onclick="function1()">'+mybotCat1+'</span><span class="botSmartButtonSpan2" onclick="function2()">'+mybotCat2+'</span></div><div class="botSmartButton"><span class="botSmartButtonSpan" onclick="function3()">'+mybotCat3+'</span><span class="botSmartButtonSpan2" onclick="function7()">'+mybotCatMore+'</span></div>';

mybotBundle2 = '<div class="botSmartButton"><span class="botSmartButtonSpan" onclick="function4()">'+mybotCat4+'</span><span class="botSmartButtonSpan2" onclick="function5()">'+mybotCat5+'</span></div><div class="botSmartButton"><span class="botSmartButtonSpan" onclick="function6()">'+mybotCat6+'</span><span class="botSmartButtonSpan2" onclick="function7()">'+mybotCatMore+'</span></div>';

mybotadSmall = '';
// '<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:inline-block;width:320px;height:50px" data-ad-client="ca-pub-8823197506619154" data-ad-slot="9097456438"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script>';

mybotadIn = '';

mybotgabywa = '<script async src="https://www.googletagmanager.com/gtag/js?id='+mybotGACode+'"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "'+mybotGACode+'");</script>';

mybotClosevar = '<img src="https://cdn.jsdelivr.net/gh/unib0ts/unibots/maalaimalar/close.svg">';
mybotCloseInVar = '<img src="https://cdn.jsdelivr.net/gh/unib0ts/unibots/maalaimalar/close.svg" style="width: 20px; display: block;">';

mybotFace = '<div class="mybotcard-container" id="botfaceclosed"><img src="https://cdn.jsdelivr.net/gh/unib0ts/unibots/maalaimalar/logo-med-01.png" class="mybotimg1 mybotimgprofile"><img src="https://cdn.jsdelivr.net/gh/unib0ts/unibots/maalaimalar/news-med-01.png" class="mybotimg2 mybotimgprofile"></div>';

mybotFaceOpen = '<div class="mybotcard-container bot_p_img" id="botfaceopen"><img src="https://cdn.jsdelivr.net/gh/unib0ts/unibots/maalaimalar/logo-med-01.png" class="mybotimg1"><img src="https://cdn.jsdelivr.net/gh/unib0ts/unibots/maalaimalar/news-med-01.png" class="mybotimg2"></div>';

// mybotFace = '<img id="botfaceclosed" src="https://cdn.jsdelivr.net/gh/unib0ts/unibots/maalaimalar/newsbot.gif" class="img-circle img-profile mybotimgprofile">';
//
// mybotFaceOpen = '<img id="botfaceopen" src="https://cdn.jsdelivr.net/gh/unib0ts/unibots/maalaimalar/newsbot.gif" class="bot_p_img face">';

function mybotCustomFunction() {
  // loadCustomScripts();
  document.getElementById('mybotFace').classList.remove('face');
  document.getElementById('mybotFace').innerHTML=mybotFace;
  document.getElementById('mybotFaceOpen').innerHTML=mybotFaceOpen;
  document.getElementById('adSmall').innerHTML=mybotadSmall;
	document.getElementById('adIn').innerHTML=mybotadIn;
  document.getElementById('gabywa').innerHTML=mybotgabywa;
  document.getElementById('mybotClose').innerHTML=mybotClosevar;
	document.getElementById('newsBotBundle1').innerHTML=mybotBundle1;
	document.getElementById('newsBotBundle2').innerHTML=mybotBundle2;
  document.getElementById('mybotSearchBox').placeholder=botSearchPlaceholder;
}

function loadAdCustom() {
  return false;
}

// function sliderSwipe(){
//   if (navigator.msMaxTouchPoints) {
//
//     $('mybot #slick-list').addClass('ms-touch');
//
//     $('mybot #slick-list').on('scroll', function() {
//       $('mybot .carousel-item').css('transform','translate3d(-' + (100-$(this).scrollLeft()/6) + 'px,0,0)');
//     });
//
//   }
//   else {
//
//     var slider = {
//
//       el: {
//         slider: $("mybot .slick-list"),
//         holder: $("mybot .slick-track"),
//         imgSlide: $("mybot .carousel-item")
//       },
//
//       slideWidth: $('mybot .slick-slide').width(),
//       touchstartx: undefined,
//       touchmovex: undefined,
//       movex: undefined,
//       index: 0,
//       longTouch: undefined,
//
//       init: function() {
//         console.log('init event ran');
//         this.bindUIEvents();
//       },
//
//       bindUIEvents: function() {
//
//         this.el.holder.on("touchstart", function(event) {
//           slider.start(event);
//         });
//
//         this.el.holder.on("touchmove", function(event) {
//           slider.move(event);
//         });
//
//         this.el.holder.on("touchend", function(event) {
//           slider.end(event);
//         });
//
//       },
//
//       start: function(event) {
//         console.log('start event ran');
//         // Test for flick.
//         this.longTouch = false;
//         setTimeout(function() {
//           window.slider.longTouch = true;
//         }, 250);
//
//         // Get the original touch position.
//         this.touchstartx =  event.originalEvent.touches[0].pageX;
//
//         // The movement gets all janky if there's a transition on the elements.
//         $('.animate').removeClass('animate');
//       },
//
//       move: function(event) {
//         console.log('move event ran');
//         // Continuously return touch position.
//         this.touchmovex =  event.originalEvent.touches[0].pageX;
//         // Calculate distance to translate slick-track.
//         this.movex = this.index*this.slideWidth + (this.touchstartx - this.touchmovex);
//         // Defines the speed the images should move at.
//         var panx = 100-this.movex/6;
//         console.log('movex = '+this.movex);
//         if (this.movex < 600) { // Makes the slick-track stop moving when there is no more content.
//           this.el.holder.css('transform','translate3d(-' + this.movex + 'px,0,0)');
//         }
//         if (panx < 100) { // Corrects an edge-case problem where the background image moves without the container moving.
//           this.el.imgSlide.css('transform','translate3d(-' + panx + 'px,0,0)');
//         }
//       },
//
//       end: function(event) {
//         console.log('end event ran');
//         // Calculate the distance swiped.
//         var absMove = Math.abs(this.index*this.slideWidth - this.movex);
//         // Calculate the index. All other calculations are based on the index.
//         if (absMove > this.slideWidth/2 || this.longTouch === false) {
//           if (this.movex > this.index*this.slideWidth && this.index < 9) {
//             this.index++;
//           } else if (this.movex < this.index*this.slideWidth && this.index > 0) {
//             this.index--;
//           }
//         }
//         // Move and animate the elements.
//         this.el.holder.addClass('animate').css('transform', 'translate3d(-' + this.index*this.slideWidth + 'px,0,0)');
//         this.el.imgSlide.addClass('animate').css('transform', 'translate3d(-' + 100-this.index*50 + 'px,0,0)');
//
//       }
//     };
//
//     slider.init();
//   }
// }
//
// function loadCustomScripts(){
//   var s0 = document.createElement('script');
//   s0.src = "https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js";
//   s0.type = "text/javascript";
//   document.getElementsByTagName('head')[0].appendChild(s0);
// }

function mybotSliderAddEvents(articleNo, slideNo){
  [].forEach.call(document.querySelectorAll('mybot .slick-track'), function(el) {
    el.addEventListener('touchstart', handleTouchStart, false);
    el.addEventListener('touchmove', function(evt){
      if ( ! xDown || ! yDown ) {
          return;
      }

      var xUp = evt.touches[0].clientX;
      var yUp = evt.touches[0].clientY;

      var xDiff = xDown - xUp;
      var yDiff = yDown - yUp;
      handleTouchMove(articleNo,slideNo, xDiff, yDiff);
    });
    // el.addEventListener('touchmove', handleTouchMove, false);
	});
}

function getTouches(evt) {
  return evt.touches ||             // browser API
         evt.originalEvent.touches; // jQuery
}

function handleTouchStart(evt) {
    const firstTouch = getTouches(evt)[0];
    xDown = firstTouch.clientX;
    yDown = firstTouch.clientY;
};

function handleTouchMove(articleNo, slideNo, xDiff, yDiff) {


    if ( Math.abs( xDiff ) > Math.abs( yDiff ) ) {/*most significant*/
        if ( xDiff > 0 ) {
            articleNo -= 1;
            slideNo -= 1;
            moveArticlesRight(articleNo, slideNo);
        }
        else {
            articleNo -= 1;
            slideNo -= 1;
            moveArticlesLeft(articleNo, slideNo);
        }
    }
    // else {
    //     if ( yDiff > 0 ) {
    //         /* up swipe */
    //     } else {
    //         /* down swipe */
    //     }
    // }
    /* reset values */
    xDown = null;
    yDown = null;
};

// =============================================================================
// Change the code from here
// Any function which you want to call on document.ready, put in this function
var articles = [];
var desc =[];
var links = [];
var botAdInFlag = false;
var AUTH_TOKEN = "";
var mybotDragClick = false;
var botsite;
var botCloseAuto;
var catFlag = 0;
var adInSmallCounter = 0;
var slideNo = 0;
var searchFlag = 0;

function placeBotAndAd(){
	var botElement = document.getElementById("chatCont");
	var imgElement = document.getElementById("mybotFace");
	var adElement = document.getElementById("adSmall");
	var divElement = document.getElementById("dragItem");
	if (botPosition=='right' || typeof botPosition==='undefined' )
	{
		botElement.classList.add("chatCont-right");
		imgElement.classList.add("col-hgt-right");
		adElement.classList.add("col-hgt-ad-right");
	}
	else if (botPosition=='left')
	{
		botElement.classList.add("chatCont-left");
		imgElement.classList.add("col-hgt-left");
		adElement.classList.add("col-hgt-ad-left");
		divElement.classList.add("profile_div-left");
	}
}

function callOnDocumentReady() {
	if(typeof mybotMobileTopPlacement !== 'undefined' && mybotMobileTopPlacement==1){
		mobileTopPlacement();
	}
	if(typeof mybotAdDesktopTopPlacement !== 'undefined' && mybotAdDesktopTopPlacement==1){
		adDesktopTopPlacement();
	}
	if(typeof mybotCloseInVar !== 'undefined'){
		mybotClosevarIn = mybotCloseInVar;
	}
	else{
		mybotClosevarIn = '<img src="https://api.warw.in/maalaimalar/img/close.svg" style="width: 20px; display: block;">';
	}
	document.getElementById('mybotCloseIn').innerHTML=mybotClosevarIn;
	mybotCustomFunction();
	placeBotAndAd();
	loadAd('gabywa');
	if(mybotLoadAdDefault){
		loadAd('adSmall');
		loadAd('adIn');
	}
	else{
		loadAdCustom('adSmall');
		loadAdCustom('adIn');
	}
	if(mybotAuthEnabled){
		updateAuthToken();
	}
	if(mybotMultipleIconsEnabled){
		botPic();
	}

	[].forEach.call(document.querySelectorAll('.mybotimgprofile'), function(el) {
		el.addEventListener('click', function() {
			if(mybotDragClick==false){
				if (botPosition=='right')
				{
					document.querySelector('.chatCont-right').style.display = 'block';
				}
				else if (botPosition=='left')
				{
					document.querySelector('.chatCont-left').style.display = 'block';
				}
				document.querySelector('.bot_profile').style.display = 'block';
				document.querySelector('.profile_div').style.display = 'none';
				document.querySelector('.botBodyChat').style.display = 'block';

				if(typeof mybotampEnabled !== 'undefined' && mybotampEnabled ==1){
					mybotampOpen();
				}

				if(botAdInFlag==false){
					openBotMenuCustom();
					botAdInFlag = true;
				}
			}
			else{
				mybotDragClick = false;
			}
			mybotClickCount(0);
		})
	});

	[].forEach.call(document.querySelectorAll('.close'), function(el) {
		el.addEventListener('click', function() {
			if (botPosition=='right')
			{
				document.querySelector('.chatCont-right').style.display = 'none';
			}
			else if (botPosition=='left')
			{
				document.querySelector('.chatCont-left').style.display = 'none';
			}
			document.querySelector('.bot_profile').style.display = 'none';
			document.querySelector('.adIn').style.display = 'block';
			document.querySelector('.profile_div').style.display = 'block';
			if(typeof mybotampEnabled !== 'undefined' && mybotampEnabled ==1){
				mybotampClose();
			}
		})
	});

	if(mybotCloseEnabled){
		[].forEach.call(document.querySelectorAll('.closeBotFront'), function(el) {
			el.style.display='block';
			el.addEventListener('click', function() {
			if (botPosition=='right')
			{
				document.querySelector('.chatCont-right').style.display = 'none';
			}
			else if (botPosition=='left')
			{
				document.querySelector('.chatCont-left').style.display = 'none';
			}
				document.querySelector('.bot_profile').style.display = 'none';
				document.querySelector('.adIn').style.display = 'none';
				document.querySelector('.profile_div').style.display = 'none';
			})
		});
	}

	dragElement(document.getElementById("dragItem"));

	if((typeof mybotIsBottomScrollDisapperEnabled !== 'undefined') && (mybotIsBottomScrollDisapperEnabled == 1)){
		window.onscroll = function(ev) {mybotScrollEnd()};
	}
	if((typeof mybotIsBottomScrollStartDisapperEnabled !== 'undefined') && (mybotIsBottomScrollStartDisapperEnabled == 1)){
		window.onscroll = function(ev) {mybotScrollStart()};
	}
}

function mybotScrollStart(){
	if(mobileCheck()){
		if ((window.scrollY) <= ((screen.height/3) - mybotScrollStartPixelHeight)) {
        document.getElementById('chatCont').style.display = 'none';
        document.getElementById('dragItem').style.display = 'none';
        mybotScrollStartFlag = 1;
    }
    else if(mybotScrollStartFlag == 1){
      if ((window.scrollY) >= ((screen.height/3) - mybotScrollStartPixelHeight)) {
          document.getElementById('dragItem').style.display = 'block';
          mybotScrollStartFlag = 0;
      }
    }
	}
}

function mybotScrollEnd(){
	if(mobileCheck()){
		if ((window.innerHeight + window.pageYOffset) >= document.body.offsetHeight - mybotScrollPixelHeight) {
        document.getElementById('chatCont').style.display = 'none';
        document.getElementById('dragItem').style.display = 'none';
        mybotScrollFlag = 1;
    }
    else if(mybotScrollFlag == 1){
      if ((window.innerHeight + window.pageYOffset) <= document.body.offsetHeight - mybotScrollPixelHeight) {
          document.getElementById('dragItem').style.display = 'block';
          mybotScrollFlag = 0;
      }
    }
	}
}

function mybotClickCount(count){
	if(mybotClickCountEnabled){
		if(count >= 2) {
			return;
		}

		var request = new XMLHttpRequest();
		url = 'https://api.warw.in/maalaimalar/bot_open';
		request.open('GET', url, true);
		request.setRequestHeader('Auth-Token', AUTH_TOKEN);
		request.onload = function() {
			if (request.status >= 200 && request.status < 400) {
				var data = request.responseText;
				data = JSON.parse(data);
				if(data.error == true) {
					console.log(data.msg);
					console.log(data.errmsg);
					updateAuthToken(mybotClickCount(count+1));
				}
				else if(data.error == false) {
					//closeloader();
					// console.log("Request Completed Successfully");
				}
			}
			else {
				// We reached our target server, but it returned an error
				console.log('Request failed from server');
			}
		};
		request.onerror = function() {
			closeloader();
			console.log('Request failed');
		};
		request.send();
	}
}

function function10(elem){
	javascript:window.open(elem.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');
};

function botPic() {
	var randomNum = Math.floor(Math.random()*3)+1;
	var myPix = "https://api.warw.in/maalaimalar/img/newsbot"+randomNum+".svg";
	document.getElementById("botfaceopen").src = myPix;
	document.getElementById("botfaceclosed").src = myPix;
}

function mobileTopPlacement(){
  if(mobileCheck()){
    mybotDragItem = document.getElementById('dragItem');
    mybotMobileTopPlacementContent = '<div class="row"><div class="col-hgt-ad" id="adSmall"></div></div><div class="row"><div class="col-hgt face" id="mybotFace" style="cursor:move;"></div><div class="closeBotFront" id="mybotClose"></div></div>';
    document.getElementById('dragItem').innerHTML = mybotMobileTopPlacementContent;
    mybotDragItem.style.display = 'none';
    mybotDragItem.style.top = '0px';
    window.addEventListener('scroll', function() {
      mybotDragItem.style.display = 'block';
    });
  }
}

function adDesktopTopPlacement(){
  if(!mobileCheck()){
    mybotDragItem = document.getElementById('dragItem');
    mybotMobileTopPlacementContent = '<div class="row"><div class="col-hgt-ad" id="adSmall"></div></div><div class="row"><div class="col-hgt face" id="mybotFace" style="cursor:move;"></div><div class="closeBotFront" id="mybotClose"></div></div>';
    document.getElementById('dragItem').innerHTML = mybotMobileTopPlacementContent;
  }
}

function loadAd(id, adUnits){
	var elm = document.getElementById(id);
	var scripts = Array(elm.querySelectorAll("script"));
	scripts = scripts[0];
	for(var i=0; i<scripts.length; i++) {
		oldScript = scripts[i];
		const newScript = document.createElement("script");
		var scriptAttr = Array(oldScript.attributes);
		scriptAttr = scriptAttr[0];
		for(var j=0; j<scriptAttr.length; j++) {
			attr = scriptAttr[j];
			newScript.setAttribute(attr.name, attr.value);
		}
    newScript.appendChild(document.createTextNode(oldScript.innerHTML));
		newScript.onload = function() {
			if(adUnits !== undefined) {
				smartyads.buildUnits(adUnits);
			}
		};
    oldScript.parentNode.replaceChild(newScript, oldScript);
	}
}

var show = function (elem) {
	elem.style.display = 'block';
};
var hide = function (elem) {
	elem.style.display = 'none';
};
var toggle = function (elem) {
	if (window.getComputedStyle(elem).display === 'block') {
		hide(elem);
		return;
	}
	show(elem);
};

function scrollToMyBot(element, to, duration) {
	var start = element.scrollTop,
	change = to - start,
	currentTime = 0,
	increment = 20;

	var animateScroll = function(){
		currentTime += increment;
		var val = Math.easeInOutQuad(currentTime, start, change, duration);
		element.scrollTop = val;
		if(currentTime < duration) {
			setTimeout(animateScroll, increment);
		}
	};
	animateScroll();
}
Math.easeInOutQuad = function (t, b, c, d) {
	t /= d/2;
	if (t < 1) return c/2*t*t + b;
	t--;
	return -c/2 * (t*(t-2) - 1) + b;
};

function botTranslate(trquery, lang, search) {
	var request = new XMLHttpRequest();
	if(mybottlang=='en'){
		botSearchQuery(trquery, lang);
	}
	else{
		if(typeof mybotLangSource !== 'undefined'){
			url = 'https://translation.googleapis.com/language/translate/v2/?q='+trquery+'&source='+mybotLangSource+'&target='+mybottlang+'&key=AIzaSyCI31hyIHjBt-4GsmZysqaqzIYoR100a8A';
		}
		else{
			url = 'https://translation.googleapis.com/language/translate/v2/?q='+trquery+'&target='+mybottlang+'&key=AIzaSyCI31hyIHjBt-4GsmZysqaqzIYoR100a8A';
		}
		request.open('GET', url, true);
		request.onload = function() {
			if (request.status >= 200 && request.status < 400) {
				var data = request.responseText;
				data = JSON.parse(data);
				translatedText = data.data.translations[0].translatedText;
				var myRegEx = new RegExp('([A-Za-z])', 'g');
				var myReg = myRegEx.exec(translatedText);
				if(myReg){
					botTransliterateText(translatedText, lang, search);
				}
				else{
					var query = document.querySelectorAll('.mybotSearchBoxHidden');
					var query1 = document.querySelectorAll('.mybotSearchBox');
					queryVal = query[query.length-2].value;
					query[query.length-2].value = translatedText+" ";
					query[query.length-2].style.display = 'inline-block';
					query1[query1.length-2].style.display = 'block';
					query1[query1.length-2].style.marginLeft = '10px';
					if(search==1){
						var queryVal = document.querySelectorAll('.mybotSearchBoxHidden');
						queryVal = queryVal[queryVal.length-2].value;
						openloader();
						botSearchQuery(queryVal, lang);
					}
				}
			}
			else {
				// We reached our target server, but it returned an error
				console.log('Request failed');
			}
		};
		request.onerror = function() {
			console.log('Request failed');
		};
		request.send();
	}
}

function botTransliterateText(translatedText, lang, search){
		switch (lang) {
			case 'hindi':
				langShort='hi';
				toScript='Deva';
				break;
			case 'marathi':
				langShort='mr';
				toScript='Deva';
				break;
			case 'bengali':
				langShort='bn';
				toScript='Beng';
				break;
			case 'tamil':
				langShort='ta';
				toScript='Taml';
				break;
			case 'gujarati':
				langShort='gu';
				toScript='Gujr';
				break;
			case 'kannada':
				langShort='kn';
				toScript='Knda';
				break;
			case 'telugu':
				langShort='te';
				toScript='Telu';
				break;
			case 'malayalam':
				langShort='ml';
				toScript='Mlym';
				break;
			case 'punjabi':
				langShort='pa';
				toScript='Guru';
				break;
			default:
				langShort='hi';
				toScript='Deva';
		}

		var request = new XMLHttpRequest();
		url = 'https://api.cognitive.microsofttranslator.com/transliterate?api-version=3.0&language='+langShort+'&fromScript=Latn&toScript='+toScript;
		request.open('POST', url, true);
		request.setRequestHeader('Ocp-Apim-Subscription-Key', 'a127d7f767664215bf91c60fdc68ab13');
		request.setRequestHeader('Content-type', 'application/json');
		var params = [{'text': translatedText}];
		request.onload = function() {
			if (request.status >= 200 && request.status < 400) {
				var data = request.responseText;
				data = JSON.parse(data);
				data = data[0];
				if(data.text == '') {
					// console.log(data.msg);
					console.log(data.errmsg);
				}
				else if(data.text != '') {
					//closeloader();
					transliteratedText = data.text;
					var query = document.querySelectorAll('.mybotSearchBoxHidden');
					var query1 = document.querySelectorAll('.mybotSearchBox');
					queryVal = query[query.length-2].value;
					query[query.length-2].value = transliteratedText+" ";
					query[query.length-2].style.display = 'inline-block';
					query1[query1.length-2].style.display = 'block';
					query1[query1.length-2].style.marginLeft = '10px';
					if(search==1){
						var queryVal = document.querySelectorAll('.mybotSearchBoxHidden');
						queryVal = queryVal[queryVal.length-2].value;
						openloader();
						botSearchQuery(queryVal, lang);
					}
					//console.log("Request Completed Successfully");
				}
			}
			else {
				// We reached our target server, but it returned an error
				console.log('Request failed from server');
			}
		};
		request.onerror = function() {
			// closeloader();
			console.log('Request failed');
		};
		request.send(JSON.stringify(params));
};

function botProfane(text, count, search, charCode) {
	if(typeof profaneTimeout !== 'undefined'){
		clearTimeout(profaneTimeout);
	}
	if(count >= 2) {
		return;
	}

	var request = new XMLHttpRequest();
	url = 'https://api.warw.in/maalaimalar/profane/'+text;
	request.open('GET', url, true);
	request.setRequestHeader('Auth-Token', AUTH_TOKEN);
	request.onload = function() {
		if (request.status >= 200 && request.status < 400) {
			var data = request.responseText;
			data = JSON.parse(data);
			var query = document.querySelectorAll('.mybotSearchBox');
			queryVal = query[query.length-2].value;
			if(data.error == true) {
				console.log(data.msg);
				console.log(data.errmsg);
				updateAuthToken(botProfane(text, count+1));
			}
			else if(data.error == false) {
				//closeloader();
				if(data['bad word'] == 1){
					queryVal = queryVal.replace(text+" ", "");
					query[query.length-2].value = queryVal;
				}
				if(mybottlang == 'en' && (charCode != 13 && charCode!=0)){
				}
				else{
					botTranslate(queryVal, mybotLang, search);
				}
			}
		}
		else {
			// We reached our target server, but it returned an error
			console.log('Request failed from server');
		}
	};
	request.onerror = function() {
		closeloader();
		console.log('Request failed');
	};
	request.send();
}

function mybotCategoryClickCount(title, count){
	if(count >= 2) {
		return;
	}

	var request = new XMLHttpRequest();
	url = 'https://api.warw.in/maalaimalar/cat_click';
	request.open('POST', url, true);
	request.setRequestHeader('Auth-Token', AUTH_TOKEN);
	request.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
	request.onload = function() {
		if (request.status >= 200 && request.status < 400) {
			var data = request.responseText;
			data = JSON.parse(data);
			if(data.error == true) {
				// console.log(data.msg);
				console.log(data.errmsg);
				updateAuthToken(mybotCategoryClickCount(title, count+1));
			}
			else if(data.error == false) {
				//closeloader();
				//console.log("Request Completed Successfully");
			}
		}
		else {
			// We reached our target server, but it returned an error
			console.log('Request failed from server');
		}
	};
	request.onerror = function() {
		closeloader();
		console.log('Request failed');
	};
	request.send('title='+title);
}

function botSearchEventList(lang){
	[].forEach.call(document.querySelectorAll('.botSearch'), function(el) {
		el.addEventListener('click', function() {
			document.querySelector('.botSendIconDisabled').style.display = 'none';
			document.querySelector('.botSendIconEnabled').style.display = 'inline-block';
		})
	});

	[].forEach.call(document.querySelectorAll('.botSendIconEnabled'), function(el) {
		el.addEventListener('click', function() {
			var query = document.querySelectorAll('.mybotSearchBox');
			query = query[query.length-2].value;
			queryArray = query.split(' ');
			queryArray = queryArray[queryArray.length - 2];
			botProfane(queryArray,0,1,0);
		})
	});

	[].forEach.call(document.querySelectorAll('.mybotSearchBox'), function(el) {
		el.addEventListener('keyup', function(e) {
				var event = e || window.event;
				var charCode = event.which || event.keyCode;
				if ( charCode == '13' ) {
					var query = document.querySelectorAll('.mybotSearchBox');
					query = query[query.length-2].value;
					queryArray = query.split(' ');
					queryArray = queryArray[queryArray.length - 2];
					botProfane(queryArray,0,1,charCode);
				}
				else if ( charCode == '32' ) {
					var query = document.querySelectorAll('.mybotSearchBox');
					query = query[query.length-2].value;
					queryArray = query.split(' ');
					queryArray = queryArray[queryArray.length - 2];
					botProfane(queryArray,0,0,charCode);
				}
				else if ( charCode == '8' ) {
					var query = document.querySelectorAll('.mybotSearchBox');
					query = query[query.length-2].value;
					queryArray = query.split(' ');
					queryArray = queryArray[queryArray.length - 2];
					botProfane(queryArray,0,0,charCode);
				}
				else if ( charCode == '46' ) {
					var query = document.querySelectorAll('.mybotSearchBox');
					query = query[query.length-2].value;
					queryArray = query.split(' ');
					queryArray = queryArray[queryArray.length - 2];
					botProfane(queryArray,0,0,charCode);
				}
				else{
					if(typeof profaneTimeout !== 'undefined'){
						clearTimeout(profaneTimeout);
					}
					var query = document.querySelectorAll('.mybotSearchBox');
					query = query[query.length-2].value;
					queryArray = query.split(' ');
					queryArray = queryArray[queryArray.length - 2];
					profaneTimeout = setTimeout(function(){ botProfane(queryArray,0,0,1); }, 1500);
				}
		})
	});
}

function botSearchQuery(query, lang){
	var adIn = document.querySelector('.adIn');
	hide(adIn);

	var request = new XMLHttpRequest();
	url = 'https://www.googleapis.com/customsearch/v1/siterestrict?key='+mybotSearchKey+'&cx='+mybotSearchcx+'&q='+query;
	request.open('GET', url, true);
	request.setRequestHeader('Auth-Token', AUTH_TOKEN);
	request.onload = function() {
		if (request.status >= 200 && request.status < 400) {
			var data = request.responseText;
			data = JSON.parse(data);
			// console.log(data);
			// console.log(data.searchInformation.totalResults);
			if(data.searchInformation.totalResults > 0){
				if(data.context.title == mybotContextTitle) {
					openBotNewsHeadWrapper(botSearchDisplayText, lang);
					closeloader();
					articlesHTML = document.getElementById('articlesBlock');
					articlesHTML = articlesHTML.innerHTML;

					slideTrackBlock =  document.getElementById('slideTrackBlockSearch');
					slideTrackBlock = slideTrackBlock.innerHTML;
					var slideTrack = '';
					var index = [];
					var articleNo = 0;
					titleFlag = 0;
					var totalLength = data.items.length;
					for(var i=0; i<totalLength; i++) {
						if("pagemap" in data.items[i]){
							if("metatags" in data.items[i].pagemap){
								if("0" in data.items[i].pagemap.metatags){
									if((typeof mybotSearchTitleField !== 'undefined') && (mybotSearchTitleField == 1)){
										if("og:title" in data.items[i].pagemap.metatags[0]){
											var title = data.items[i].pagemap.metatags[0]['og:title'];
											titleFlag = 1;
										}
										else if("og:description" in data.items[i].pagemap.metatags[0]){
											var title = data.items[i].pagemap.metatags[0]['og:description'];
											titleFlag = 1;
										}
									}
									else{
										if("og:description" in data.items[i].pagemap.metatags[0]){
											var title = data.items[i].pagemap.metatags[0]['og:description'];
											titleFlag = 1;
										}
									}

								}
							}
							if("cse_image" in data.items[i].pagemap){
								if("0" in data.items[i].pagemap.cse_image){
									if("src" in data.items[i].pagemap.cse_image[0]){
										var image = data.items[i].pagemap.cse_image[0]["src"];
									}
								}
							}

						}
						if(titleFlag == 0){
							title=data.items[i].snippet;
						}
						var link = data.items[i].link;
						var index = articles.push(title);

						if(typeof imageSearchExp === 'undefined' || (typeof imageSearchExp !== 'undefined' && imageSearchExp==0)){
							var image = query;
							var cc = ['#582323','#582323', '#842780', '#470d7b', '#1a0d7b', '#2d639c', '#14655e', '#08542b', '#24752f', '#2f7106', '#9a8b1b',];
							var randomNum = Math.floor(Math.random()*10)+1;
						}
						emoji = ['0', '0'];
						links.push(link);
						catclickfun = "mybotCategoryClickCount('"+title+"',0)";

						slideTrackBlockHTML = slideTrackBlock;

						if(typeof imageSearchExp === 'undefined' || (typeof imageSearchExp !== 'undefined' && imageSearchExp==0)){
							slideTrackBlockHTML = slideTrackBlockHTML.replace(/__IMAGE3__/g, cc[randomNum]);
							slideTrackBlockHTML = slideTrackBlockHTML.replace(/__IMAGE2__/g, image);
							slideTrackBlockHTML = slideTrackBlockHTML.replace(/__IMAGE__/g, '');
						}
						else{
							image = "'"+image+"'";
							slideTrackBlockHTML = slideTrackBlockHTML.replace(/__IMAGE3__/g, '');
							slideTrackBlockHTML = slideTrackBlockHTML.replace(/__IMAGE2__/g, '');
							slideTrackBlockHTML = slideTrackBlockHTML.replace(/__IMAGE__/g, image);
						}

						slideTrackBlockHTML = slideTrackBlockHTML.replace(/__CATCLICKFUN__/g, catclickfun);
						// slideTrackBlockHTML = slideTrackBlockHTML.replace(/__CC__/g, cc[randomNum]);
						// slideTrackBlockHTML = slideTrackBlockHTML.replace(/__IMAGE__/g, image);
						slideTrackBlockHTML = slideTrackBlockHTML.replace(/__LINK__/g, link);

						slideTrackBlockHTML = slideTrackBlockHTML.replace(/__INDEX__/g, index);
						slideTrackBlockHTML = slideTrackBlockHTML.replace(/__TITLE__/g, title);
						slideTrack += slideTrackBlockHTML;
					}

					articlesHTML = articlesHTML.replace(/__SLIDETRACK__/g, slideTrack);
					articlesHTML = articlesHTML.replace(/__ARTICLENO__/g, articleNo);
					articlesHTML = articlesHTML.replace(/__SLIDENO__/g, slideNo);
					if(typeof mybotslickClose !== 'undefined' && mybotslickClose ==1){
						closeclass= 'slick-close-show';
						articlesHTML = articlesHTML.replace(/__CLOSECLASS__/g, closeclass);
						articlesHTML = articlesHTML.replace(/__SLICKTRACKCLOSE__/g, 'slick-track-close');
						if(typeof mybotslickCloseText !== 'undefined'){
							articlesHTML = articlesHTML.replace(/__SLIDECLOSETEXT__/g, mybotslickCloseText);
						}
						else{
							articlesHTML = articlesHTML.replace(/__SLIDECLOSETEXT__/g, 'Close This Slide');
						}
					}
					else{
						closeclass = 'slick-close';
						articlesHTML = articlesHTML.replace(/__CLOSECLASS__/g, closeclass);
					}
					articleNo=articleNo+1;
					slideNo+=1;
					var botMessageBody = document.querySelector('.botMessageBody');
					var tempvar = document.createElement('div');
					tempvar.innerHTML = articlesHTML;
					botMessageBody.appendChild(tempvar);

					var objDiv = document.getElementById("botMessageBody");
					var element = document.querySelector('.botBodyChat');
					scrollToMyBot(element, objDiv.scrollHeight, 1250);
				}
				else {
					console.log("Error Occured. Context title does not match");
				}
			}
			else{
				openBotNewsHeadWrapper(botSearchDisplayTextNF, lang);
				closeloader();
				var objDiv = document.getElementById("botMessageBody");
				var element = document.querySelector('.botBodyChat');
				scrollToMyBot(element, objDiv.scrollHeight, 1250);
			}
			mybotSliderAddEvents(articleNo, slideNo);
		}
		else {
			// We reached our target server, but it returned an error
			console.log('Request failed from server');
			// var data = request.responseText;
			// console.log(data);
		}
	};
	request.onerror = function() {
		closeloader();
		console.log('Request failed');
	};
	request.send();
}

function changeNewsCategories(){
	[].forEach.call(document.querySelectorAll('.newsBotBundle1'), function(el) {
		if(el.style['display'] == 'block') {
			el.style['display'] = 'none';
		}
		else {
			el.style['display'] = 'block';
		}
	});

	[].forEach.call(document.querySelectorAll('.newsBotBundle2'), function(el) {
		if(el.style['display'] == 'block') {
			el.style['display'] = 'none';
		}
		else {
			el.style['display'] = 'block';
		}
	});
}

function updateAuthToken(callback) {
	var request = new XMLHttpRequest();
	request.open('GET', 'https://api.warw.in/maalaimalar/get_token', true);
	request.onload = function() {
		if (request.status >= 200 && request.status < 400) {
			var data = request.responseText;
			data = JSON.parse(data);
			if(data.error === false) {
				AUTH_TOKEN = data.auth_token;
			}
			if(typeof callback == "function") {
				callback();
			}
		}
		else {
			// We reached our target server, but it returned an error
			console.log('Request failed');
		}
	};
	request.onerror = function() {
		console.log('Request failed');
	};
	request.send();
}

function openBotMenuCustom(){
	if(catFlag == 0){
		var topText = myBotMenuCustomTopText;
	}
	else{
		var topText = myBotMenuCustomTopTextCats;
	}
	categoriesHTML = document.getElementById('categoriesBlock');
	categoriesHTML = categoriesHTML.innerHTML;
	categoriesHTML = categoriesHTML.replace(/__TOPTEXT__/g, topText);

	var botMessageBody = document.querySelector('.botMessageBody');
	var tempvar = document.createElement('div');
	tempvar.innerHTML = categoriesHTML;
	botMessageBody.appendChild(tempvar);
	var objDiv = document.getElementById("botMessageBody");
	var element = document.querySelector('.botBodyChat');
	scrollToMyBot(element, objDiv.scrollHeight, 1250);
	botSearchWrapperAppend('english');
}

function botSearchWrapperAppend(lang){
	botSearchWrap = document.getElementsByClassName('botSearch');
	for(var i=0; i<botSearchWrap.length; i++) {
		botSearchWrap[i].innerHTML = '';
		botSearchWrap[i].setAttribute('id', 'botSearchOld');
	}
	botSearchWrap = document.getElementById('mybotSearchFields');
	botSearchWrap = botSearchWrap.innerHTML;
	var tempvar = document.createElement('div');
	tempvar.setAttribute('id', 'botSearch');
	tempvar.setAttribute('class', 'botSearch');
	tempvar.innerHTML = botSearchWrap;
	botMessageBody.appendChild(tempvar);

	botSearchEventList(lang);
}

function openBotMenuMore(){
	// changeNewsCategories();
	catFlag = 1;
	openBotMenuCustom();
}

function openBotNewsHeadWrapper(displayText, lang){
	var catText = "Show me more categories!";
	switch(lang){
		case "english":
		catText = "Show me more categories!";
		break;
		case "hindi":
			catText = "\u0914\u0930\u0020\u0936\u094d\u0930\u0947\u0923\u093f\u092f\u093e\u0902\u0020\u0926\u093f\u0916\u093e\u090f";//और श्रेणियां दिखाए
			break;
		case "bengali":
			catText = "\u0986\u09b0\u0993\u0020\u09ac\u09bf\u09ad\u09be\u0997\u0020\u09a6\u09c7\u0996\u09be\u09a8";//আরও বিভাগ দেখান
			break;
		case "marathi":
			catText = "\u0905\u0927\u093f\u0915\u0020\u0936\u094d\u0930\u0947\u0923\u094d\u092f\u093e\u0020\u0926\u0930\u094d\u0936\u0935\u093e";//अधिक श्रेण्या दर्शवा
			break;
		case "gujarati":
			catText = "\u0ab5\u0aa7\u0ac1\u0020\u0ab5\u0ab0\u0acd\u0a97\u0acb\u0aae\u0abe\u0a82\u0020\u0aac\u0aa4\u0abe\u0ab5\u0acb";//વધુ વર્ગોમાં બતાવો
			break;
		case "malayalam":
			catText= "\u0d0e\u0d28\u0d3f\u0d15\u0d4d\u0d15\u0d4d \u0d15\u0d42\u0d1f\u0d41\u0d24\u0d7d \u0d35\u0d3f\u0d2d\u0d3e\u0d17\u0d19\u0d4d\u0d19\u0d7e \u0d15\u0d3e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d41\u0d15";
			break;
		case "telugu":
			catText = "\u0c28\u0c3e\u0c15\u0c41\u0020\u0c2e\u0c30\u0c3f\u0c28\u0c4d\u0c28\u0c3f\u0020\u0c35\u0c30\u0c4d\u0c17\u0c3e\u0c32\u0c41\u0020\u0c1a\u0c42\u0c2a\u0c3f\u0c02\u0c1a\u0c41\u0021";
			break;
		case "tamil":
			catText = "\u0bae\u0bc7\u0bb2\u0bc1\u0bae\u0bcd\u0020\u0bb5\u0b95\u0bc8\u0b95\u0bb3\u0bc8\u0020\u0b8e\u0ba9\u0b95\u0bcd\u0b95\u0bc1\u0b95\u0bcd\u0020\u0b95\u0bbe\u0b9f\u0bcd\u0b9f\u0bc1";
			break;
		case "punjabi":
			catText = "\u0a39\u0a4b\u0a30 \u0a38\u0a3c\u0a4d\u0a30\u0a47\u0a23\u0a40\u0a06\u0a02 \u0a26\u0a3f\u0a16\u0a3e\u0a13";
			break;
		case "kannada":
			catText = "\u0ca8\u0ca8\u0c97\u0cc6 \u0cb9\u0cc6\u0c9a\u0ccd\u0c9a\u0cbf\u0ca8 \u0cb5\u0cb0\u0ccd\u0c97\u0c97\u0cb3\u0ca8\u0ccd\u0ca8\u0cc1 \u0ca4\u0ccb\u0cb0\u0cbf\u0cb8\u0cbf";
			break;
		default:
		catText = "Show me more categories!"
	}
	botHeadWrap = document.getElementById('botHeadWrap');
	botHeadWrap = botHeadWrap.innerHTML;
	botHeadWrap = botHeadWrap.replace(/__DISPLAYTEXT__/g, displayText);
	botHeadWrap = botHeadWrap.replace(/__CATTEXT__/g, catText);
	var botMessageBody = document.querySelector('.botMessageBody');
	var tempvar = document.createElement('div');
	tempvar.innerHTML = botHeadWrap;
	botMessageBody.appendChild(tempvar);
	if(searchFlag==0){
		botSearchWrapperAppend();
	}
	searchFlag=0;
}

function openloader(){
	var botChatwave = document.querySelector('.botChatwave');
	show(botChatwave);
}

function closeloader(){
	var botChatwave = document.querySelector('.botChatwave');
	hide(botChatwave);
}

function mobileCheck() {
	var check = false;
	(function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);
	return check;
};

function firstOpenBot(){
	if (botPosition=='right')
	{
		document.querySelector('.chatCont-right').style.display = 'block';
	}
	else if (botPosition=='left')
	{
		document.querySelector('.chatCont-left').style.display = 'block';
    }
	document.querySelector('.bot_profile').style.display = 'block';
	document.querySelector('.profile_div').style.display = 'none';
	document.querySelector('.botBodyChat').style.display = 'block';
	botCloseAuto = setTimeout(firstCloseBot, 6500);
}

function firstCloseBot(){
	if (botPosition=='right')
	{
		document.querySelector('.chatCont-right').style.display = 'none';
	}
	else if (botPosition=='left')
	{
		document.querySelector('.chatCont-left').style.display = 'none';
    }
	document.querySelector('.bot_profile').style.display = 'none';
	document.querySelector('.adIn').style.display = 'block';
	document.querySelector('.profile_div').style.display = 'block';
}

function openNewsCategoryWise(category, count, lang, buttonText, displayText) {
	clearTimeout(botCloseAuto);
	if(count >= 2) {
		return;
	}
	if(count == 0) {
		html = '';
		html += '<div class="botMessageItemWrapper">';
		html += '	<div class="botfloatContainerUser">';
		html += '		<div class="botMessageFromUser">'+buttonText+'</div>';
		html += '	</div>';
		html += '</div>';
		var botMessageBody = document.querySelector('.botMessageBody');
		var tempvar = document.createElement('div');
		tempvar.innerHTML = html;
		botMessageBody.appendChild(tempvar);
		openBotNewsHeadWrapper(displayText, lang);
	}
	var cat = category;
	var adIn = document.querySelector('.adIn');
	hide(adIn);
	var language = lang;
	openloader();

	var request = new XMLHttpRequest();
	url = 'https://api.warw.in/maalaimalar/get_articles/'+cat;
	request.open('GET', url, true);
	request.setRequestHeader('Auth-Token', AUTH_TOKEN);
	request.onload = function() {
		if (request.status >= 200 && request.status < 400) {
			var data = request.responseText;
			data = JSON.parse(data);
			closeloader();
			if(data.error == true) {
				console.log(data.msg);
				console.log(data.errmsg);
				updateAuthToken(openNewsCategoryWise(cat, count+1, lang, buttonText, displayText));
			}
			else if(data.error == false) {
				//closeloader();
				articlesHTML = document.getElementById('articlesBlock');
				articlesHTML = articlesHTML.innerHTML;

				slideTrackBlock = document.getElementById('slideTrackBlock');
				slideTrackBlock = slideTrackBlock.innerHTML;

				totalLength = data.articles.length;
				slideTrack = '';
				var articleNo = 0;
				var reactionStack = [];
				for(var i=0; i<totalLength; i++) {
					var descData = data.articles[i].description;
					var title = data.articles[i].title;
					var link = data.articles[i].link;
					var description = descData;
					var image = '';
					var reArray = [];

					if(typeof noImageExp !== 'undefined' && noImageExp==1){
						var image = displayText;
						var cc = ['#582323','#582323', '#842780', '#470d7b', '#1a0d7b', '#2d639c', '#14655e', '#08542b', '#24752f', '#2f7106', '#9a8b1b',];
						var randomNum = Math.floor(Math.random()*10)+1;
					}
					else{
						if(typeof customImageExp !== 'undefined' && customImageExp == 1){
							myRe = new RegExp('img class=\"img-responsive\" data-src=\"([^\"]+)', 'g');
						}
						else if(typeof customImageExpRetinaUrl !== 'undefined' && customImageExpRetinaUrl == 1){
							myRe = new RegExp('data-img-retina-url=\"([^\"]+)', 'g');
						}
						else if(typeof mybotcustomImageExpDirectSrc !== 'undefined' && mybotcustomImageExpDirectSrc == 1){
							myRe = new RegExp('src=\"([^\"]+)', 'g');
						}
						else if(typeof mybotcustomReg !== 'undefined' && mybotcustomReg == 1){
							myRe = new RegExp(mybotcustomRegEx, 'g');
						}
						else{
							var myRe = new RegExp('img src=\"([^\"]+)', 'g');
						}
						reArray = myRe.exec(descData);
						if (reArray == null){
							if(typeof customImageExpDataSrc !== 'undefined' && customImageExpDataSrc == 1){
								myRe = new RegExp('data-src=\"([^\"]+)', 'g');
								reArray = myRe.exec(descData);
							}
							else{
								reArray = null;
							}
							if (reArray == null){
								if(typeof mybotCatFallbackImage !== 'undefined'){
									image = mybotCatFallbackImage;
								}
								else{
									image = 'https://newsbot-images.s3.ap-south-1.amazonaws.com/main/placeholder.jpg';
								}
							}
							else {
								if(reArray.length >= 2) {
									image = reArray[1];
								}
							}
						}
						else {
							if(reArray.length >= 2) {
								image = reArray[1];
							}
						}
					}
				 	if(typeof mybotcustomPrepend !== 'undefined' && mybotcustomPrepend == 1){
						image = mybotcustomPrependLink+image;
					}

					emoji = {
						'0': 0,'1': 0,'2': 0, '3': 0
					};
					emoji = data.articles[i].reaction.msg;
					var reactedByUser = data.articles[i].reaction['reacted_by_user'];
					var userReaction = data.articles[i].reaction['user_reaction'];
					var index = articles.push(title);
					links.push(link);
					desc.push(description);
					catclickfun = "mybotCategoryClickCount('"+title+"',0)";

					slideTrackBlockHTML = slideTrackBlock;
					if(typeof noImageExp !== 'undefined' && noImageExp==1){
						slideTrackBlockHTML = slideTrackBlockHTML.replace(/__IMAGE3__/g, cc[randomNum]);
						slideTrackBlockHTML = slideTrackBlockHTML.replace(/__IMAGE2__/g, image);
						slideTrackBlockHTML = slideTrackBlockHTML.replace(/__IMAGE__/g, '');
					}
					else{
						image = "'"+image+"'";
						slideTrackBlockHTML = slideTrackBlockHTML.replace(/__IMAGE3__/g, '');
						slideTrackBlockHTML = slideTrackBlockHTML.replace(/__IMAGE2__/g, '');
						slideTrackBlockHTML = slideTrackBlockHTML.replace(/__IMAGE__/g, image);
					}
					slideTrackBlockHTML = slideTrackBlockHTML.replace(/__CATCLICKFUN__/g, catclickfun);
					slideTrackBlockHTML = slideTrackBlockHTML.replace(/__LINK__/g, link);
					slideTrackBlockHTML = slideTrackBlockHTML.replace(/__INDEX__/g, index);
					slideTrackBlockHTML = slideTrackBlockHTML.replace(/__TITLE__/g, title);
					slideTrackBlockHTML = slideTrackBlockHTML.replace(/__EMOJI0__/g, emoji[0]);
					slideTrackBlockHTML = slideTrackBlockHTML.replace(/__EMOJI1__/g, emoji[1]);
					if(reactedByUser == true) {
						var tempItem = {};
						if(userReaction == '1') {
							tempItem['index'] = index;
							tempItem['reaction'] = 1;
						}
						else if(userReaction == '0'){
							tempItem['index'] = index;
							tempItem['reaction'] = 0;
						}
						reactionStack.push(tempItem);
					}
					slideTrack += slideTrackBlockHTML;
				}

				articlesHTML = articlesHTML.replace(/__SLIDETRACK__/g, slideTrack);
				articlesHTML = articlesHTML.replace(/__ARTICLENO__/g, articleNo);
				articlesHTML = articlesHTML.replace(/__SLIDENO__/g, slideNo);

				if(typeof mybotslickClose !== 'undefined' && mybotslickClose ==1){
					closeclass= 'slick-close-show';
					articlesHTML = articlesHTML.replace(/__CLOSECLASS__/g, closeclass);
					articlesHTML = articlesHTML.replace(/__SLICKTRACKCLOSE__/g, 'slick-track-close');
					if(typeof mybotslickCloseText !== 'undefined'){
						articlesHTML = articlesHTML.replace(/__SLIDECLOSETEXT__/g, mybotslickCloseText);
					}
					else{
						articlesHTML = articlesHTML.replace(/__SLIDECLOSETEXT__/g, 'Close This Slide');
					}
				}
				else{
					closeclass = 'slick-close';
					articlesHTML = articlesHTML.replace(/__CLOSECLASS__/g, closeclass);
				}
				articleNo=articleNo+1;
				slideNo+=1;
				var botMessageBody = document.querySelector('.botMessageBody');
				var tempvar = document.createElement('div');
				tempvar.innerHTML = articlesHTML;
				botMessageBody.appendChild(tempvar);

				totalLength = reactionStack.length;
				for(var i=0; i<totalLength; i++) {
					addReaction(reactionStack[i]['index'], reactionStack[i]['reaction'], 1, true);
				}
			}
			var objDiv = document.getElementById("botMessageBody");
			var element = document.querySelector('.botBodyChat');
			scrollToMyBot(element, objDiv.scrollHeight, 1250);
			mybotSliderAddEvents(articleNo, slideNo);
		}
		else {
			// We reached our target server, but it returned an error
			closeloader();
			console.log('Request failed');
		}
	};
	request.onerror = function() {
		closeloader();
		console.log('Request failed');
	};
	request.send();
}

function dragElement(elmnt) {
	var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
	if (document.getElementById(elmnt)) {
		// if present, the header is where you move the DIV from:
		document.getElementById(elmnt).onmousedown = dragMouseDown;
	}
	else {
		// otherwise, move the DIV from anywhere inside the DIV:
		elmnt.onmousedown = dragMouseDown;
	}

	function dragMouseDown(e) {
		e = e || window.event;
		e.preventDefault();
		// get the mouse cursor position at startup:
		pos3 = e.clientX;
		pos4 = e.clientY;
		document.onmouseup = closeDragElement;
		// call a function whenever the cursor moves:
		document.onmousemove = elementDrag;
	}

	function elementDrag(e) {
		e = e || window.event;
		e.preventDefault();
		// calculate the new cursor position:
		pos1 = pos3 - e.clientX;
		pos2 = pos4 - e.clientY;
		if(pos1 !=0 || pos2!=0){
			mybotDragClick = true;
		}
		pos3 = e.clientX;
		pos4 = e.clientY;
		// set the element's new position:
		elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
		elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
	}

	function closeDragElement(e) {
		// stop moving when mouse button is released:
		document.onmouseup = null;
		document.onmousemove = null;
	}
}

function addShare(position) {
	var currentState = document.querySelector('#share'+position.toString()).style['display'];
	if(currentState == 'none') {
		document.querySelector('#share'+position.toString()).style['display'] = 'block';
		document.querySelector('#shareicon'+position.toString()).setAttribute('src', 'https://s3.ap-south-1.amazonaws.com/newsbot-images/main/share_marked.png');
	}
	else {
		document.querySelector('#share'+position.toString()).style['display'] = 'none';
		document.querySelector('#shareicon'+position.toString()).setAttribute('src', 'https://s3.ap-south-1.amazonaws.com/newsbot-images/main/share_unmarked.png');
	}
}

function addReaction(position, reaction, count, skipRequest) {
	if(count >= 2) {
		return;
	}
	var title = articles[position-1];
	if(reaction == 0) {
		document.querySelector('#dislike'+position.toString()).setAttribute('src', 'https://s3.ap-south-1.amazonaws.com/newsbot-images/main/dislike_marked.png');
		document.querySelector('#like'+position.toString()).setAttribute('src', 'https://s3.ap-south-1.amazonaws.com/newsbot-images/main/like_unmarked.png');
		document.querySelector('#dislikespan'+position.toString()).style['color'] = '#666666';
		document.querySelector('#likespan'+position.toString()).style['color'] = '#cac8c8';
	}
	else if(reaction == 1) {
		document.querySelector('#like'+position.toString()).setAttribute('src', 'https://s3.ap-south-1.amazonaws.com/newsbot-images/main/like_marked.png');
		document.querySelector('#dislike'+position.toString()).setAttribute('src', 'https://s3.ap-south-1.amazonaws.com/newsbot-images/main/dislike_unmarked.png');
		document.querySelector('#dislikespan'+position.toString()).style['color'] = '#cac8c8';
		document.querySelector('#likespan'+position.toString()).style['color'] = '#3498db';
	}

	if(skipRequest == false) {
		var request = new XMLHttpRequest();
		request.open('POST', 'https://api.warw.in/maalaimalar/add_reaction', true);
		request.setRequestHeader('Auth-Token', AUTH_TOKEN);
		request.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
		request.onload = function() {
			if (request.status >= 200 && request.status < 400) {
				var data = request.responseText;
				data = JSON.parse(data);
				if(data.error == true) {
					if(data.msg != 'Reaction already present') {
						updateAuthToken(addReaction(position, reaction, count+1, false));
					}
				}
				else if(data.error == false) {
					if(reaction==1){
						var idStr = 'likespan'+position.toString();
						var currentCount = parseInt(document.querySelector('#'+idStr).innerHTML);
						var updatedCount = currentCount+1;
						document.querySelector('#'+idStr).innerHTML = updatedCount.toString();
					}
					else{
						var idStr = 'dislikespan'+position.toString();
						var currentCount = parseInt(document.querySelector('#'+idStr).innerHTML);
						var updatedCount = currentCount+1;
						document.querySelector('#'+idStr).innerHTML = updatedCount.toString();
					}
					return;
				}
				if(typeof callback == "function") {
					callback();
				}
			}
			else {
				// We reached our target server, but it returned an error
				console.log('Request failed');
			}
		};
		request.onerror = function() {
			console.log('Request failed');
		};
		request.send('title='+title+'&reaction='+reaction);
	}
}

function copyToClipboard(position) {
	text = links[position-1];
	if (window.clipboardData && window.clipboardData.setData) {
		// IE specific code path to prevent textarea being shown while dialog is visible.
		return clipboardData.setData("Text", text);
	}
	else if (document.queryCommandSupported && document.queryCommandSupported("copy")) {
		var textarea = document.createElement("textarea");
		textarea.textContent = text;
		textarea.style.position = "fixed";  // Prevent scrolling to bottom of page in MS Edge.
		document.body.appendChild(textarea);
		textarea.select();
		try {
			return document.execCommand("copy");  // Security exception may be thrown by some browsers.
		} catch (ex) {
			console.warn("Copy to clipboard failed.", ex);
			return false;
		} finally {
			document.body.removeChild(textarea);
		}
	}
}

function moveArticlesLeft(article, slide) {
	var articles = document.querySelectorAll('#slideTrack'+article+'-'+slide);
	if(articles.length == 0) {
		return;
	}
	childNodes = articles[0]['childNodes'];
	var widthToShift = 0;
	for(var i=0; i<childNodes.length; i++) {
		var singleArticle = childNodes[i];
		if(singleArticle['className'] == 'slick-slide slick-active') {
			widthToShift = singleArticle.clientWidth;
			if(articles[0].style['margin-left'] == '0px' || articles[0].style['margin-left'] == '') {
				return;
			}
			break;
		}
	}
	var articles = document.querySelectorAll('#slideTrack'+article+'-'+slide);
	if(articles[0].style['margin-left'] == '') {
		articles[0].style['margin-left'] = '0px';
	}
	var finalWidth = parseInt(articles[0].style['margin-left'])+widthToShift;
	articles[0].style['margin-left'] = finalWidth+'px';
}

function moveArticlesRight(article, slide) {
	var articles = document.querySelectorAll('#slideTrack'+article+'-'+slide);
	if(articles.length == 0) {
		return;
	}
	childNodes = articles[0]['childNodes'];
	var widthToShift = 0;
	var totalArticles = 0;
	for(var i=0; i<childNodes.length; i++) {
		var singleArticle = childNodes[i];
		if(singleArticle['className'] == 'slick-slide slick-active') {
			widthToShift = singleArticle.clientWidth;
			totalArticles += 1;
		}
	}
	var upperBound = (totalArticles-1)*widthToShift;
	if(articles[0].style['margin-left'] == '-'+upperBound+'px') {
		return;
	}
	var articles = document.querySelectorAll('#slideTrack'+article+'-'+slide);
	if(articles[0].style['margin-left'] == '') {
		articles[0].style['margin-left'] = '0px';
	}
	var finalWidth = parseInt(articles[0].style['margin-left'])-widthToShift;
	articles[0].style['margin-left'] = finalWidth+'px';
}

function closeSlide(article, slide){
	var slideID = document.getElementById('slideTrack'+article+'-'+slide);
	if(slideID.length == 0){
		return;
	}
	slideID.style.display = 'none';
}
function ready(fn){if(document.readyState!='loading'){fn();}else if(document.addEventListener){document.addEventListener('DOMContentLoaded',fn);}else{document.attachEvent('onreadystatechange',function(){if(document.readyState!='loading');fn();});}}window.ready(function(){var html='<mybot> <div id="gabywa"> </div> <div class="chatCont" id="chatCont" > <div class="bot_profile" > <div class="bothead"> <span class="NewsBotTag"> <p>NewsBot</p> </span> <span class="botfaceopen" id="mybotFaceOpen" style="display:inline;"> </span> <span class="close" id="mybotCloseIn"> </span> </div> <div class="botBodyChat"> <div id="botMessageBody" class="botMessageBody"> </div> <div class="adIn" id="adIn"> </div> <div class="botChatwave"> <span class="botdot"></span> <span class="botdot"></span> <span class="botdot"></span> </div> </div> <div class="PoweredTag" style="height:10px;"> <a target="_blank" href="https://unibots.in/"> <p id="mybotBranding" style="margin-block-start: unset; margin-block-end: unset; display:inline;">Powered By Unibots</p> </a> <a target="_blank" href="#"> <p id="mybotBranding2" style="margin-block-start: unset; margin-block-end: unset;display:inline;"></p> </a> </div> </div> </div> <div class="profile_div" id="dragItem"> <div class="row"> <div class="col-hgt face" id="mybotFace" style="cursor:move;"> </div> <div class="closeBotFront" id="mybotClose"> </div> </div> <div class="row"> <div class="col-hgt-ad" id="adSmall"> </div> </div> </div> <div id="categoriesBlock" style="display: none;"> <div class="botMessageItemWrapper"> <div class="botfloatContainerBot"> <div class="botMessageFromBotWithBorder"> <div id="botnews1"> <div class="botMessageHeadMessage">__TOPTEXT__</div> <div class="newsBotBundle1" id="newsBotBundle1" style="display: block;"> </div> <div class="newsBotBundle2" id="newsBotBundle2" style="display: none;"> </div> </div> </div> </div> </div> </div> <div id="slideTrackBlock" style="display: none;"> <div data-index="0" class="slick-slide slick-active"> <div class="carousel-item"> <a href="__LINK__" target="_blank" onclick="return __CATCLICKFUN__"> <div class="image-section" style="background-image: url(__IMAGE__);background: __IMAGE3__;">__IMAGE2__</div> <div class="carousel-content-area"> <div class="carousel-header-area"> <div class="carousel-title-area">__TITLE__</div> </div> </div> </a> <div id="share__INDEX__" class="carousel-actionable-area" style="display:none;"> <a href="https://www.facebook.com/sharer/sharer.php?u=__LINK__&t=__TITLE__" onclick="function10(this);return false;" target="_blank" title="Share on Facebook"><img id="facebook__INDEX__" src="https://s3.ap-south-1.amazonaws.com/newsbot-images/main/facebook.png" style="width: 25px" /></a> <a href="https://twitter.com/share?url=__LINK__&text=Check this out!" onclick="function10(this);return false;" target="_blank" title="Share on Twitter"><img id="twitter__INDEX__" src="https://s3.ap-south-1.amazonaws.com/newsbot-images/main/twitter.png" style="width: 25px" /></a> <a href="https://www.linkedin.com/shareArticle?mini=true&url=__LINK__&title=__TITLE__" onclick="function10(this);return false;" target="_blank" title="Share on LinkedIn"><img id="linkedin__INDEX__" src="https://s3.ap-south-1.amazonaws.com/newsbot-images/main/linkedin.png" style="width: 25px" /></a> <a href="https://wa.me/?text=__LINK__" target="_blank" title="Share on WhatsApp"><img id="whatsapp__INDEX__" src="https://s3.ap-south-1.amazonaws.com/newsbot-images/main/whatsapp.png" style="width: 25px" /></a> <a href="javascript:void(0)" onclick="copyToClipboard(__INDEX__)"><img id="clipboard__INDEX__" src="https://s3.ap-south-1.amazonaws.com/newsbot-images/main/clipboard.png" style="width: 25px" /></a> </div> <div class="carousel-actionable-area"> <span><a href="javascript:void(0)" onclick="addReaction(__INDEX__,1,0,false)"><img id="like__INDEX__" src="https://s3.ap-south-1.amazonaws.com/newsbot-images/main/like_unmarked.png" style="width: 35px" /></a></span><span id="likespan__INDEX__" style="color: #cac8c8; position: absolute; margin-top: 10px;">__EMOJI1__</span> <span style="margin-left: 30px;"><a href="javascript:void(0)" onclick="addReaction(__INDEX__,0,0,false)"><img id="dislike__INDEX__" src="https://s3.ap-south-1.amazonaws.com/newsbot-images/main/dislike_unmarked.png" style="width: 35px" /></a></span><span id="dislikespan__INDEX__" style="color: #cac8c8; position: absolute; margin-top: 10px;">__EMOJI0__</span> <a href="javascript:void(0)" onclick="addShare(__INDEX__)"><img id="shareicon__INDEX__" src="https://s3.ap-south-1.amazonaws.com/newsbot-images/main/share_unmarked.png" style="width: 32px;padding-left: 20px;" /></a> </div> </div> </div> </div> <div id="slideTrackBlockSearch" style="display: none;"> <div data-index="0" class="slick-slide slick-active" tabindex="-1" style="outline: none;transition: 1s;"> <div class="carousel-item"> <a href="__LINK__" target="_blank" onclick="return __CATCLICKFUN__"> <div class="image-section-search" style="background-image: url(__IMAGE__);background: __IMAGE3__;">__IMAGE2__</div> <div class="carousel-content-area"> <div class="carousel-header-area"> <div class="carousel-title-area">__TITLE__</div> </div> </div> </a> </div> </div> </div> <div id="articlesBlock" style="display: none;"> <div class="botMessageItemWrapper"> <div class="botfloatContainerBot"> <div class="botMessageFromBot"> <div> <div id="mybot-slick-arrow" class="slick-initialized slick-slider"> <div class="slick-arrow __CLOSECLASS__" onclick="closeSlide(__ARTICLENO__, __SLIDENO__)"> <p class="slick-close-text">[X] __SLIDECLOSETEXT__</p> </div> <div class="slick-arrow slick-prev" onclick="moveArticlesLeft(__ARTICLENO__, __SLIDENO__)"> <img src="https://s3.ap-south-1.amazonaws.com/newsbot-images/main/left-arrow.png" style="margin-top:7px;"> </div> <div class="slick-list"> <div class="slick-track __SLICKTRACKCLOSE__" id="slideTrack__ARTICLENO__-__SLIDENO__" style="outline: none;transition: 1s;">__SLIDETRACK__</div> </div> <div class="slick-arrow slick-next" onclick="moveArticlesRight(__ARTICLENO__, __SLIDENO__)"> <img src="https://s3.ap-south-1.amazonaws.com/newsbot-images/main/left-arrow.png" style="margin-top:7px; margin-left:4px;"> </div> </div> </div> </div> </div> </div> </div> <div id="botHeadWrap" style="display: none;"> <div class="botMessageItemWrapper"> <div class="botfloatContainerBot"> <div class="botMessageFromBotWithBorder"> <div id="botnews1"> <div class="botMessageHeadMessage"> __DISPLAYTEXT__ </div> <div id="newsBotBundles"> <div class="botSmartButton" onclick="openBotMenuMore()"> __CATTEXT__ </div> </div> </div> </div> </div> </div> </div> <div id="searchBlock" style="display: none;"> <div class="botMessageItemWrapper"> <div class="botfloatContainerBot"> <div class="botMessageFromBot"> <div> <div class="slick-initialized slick-slider"> <div class="slick-arrow slick-prev"> <svg xmlns="http://www.w3.org/2000/svg" width="36" height="46" viewBox="0 0 36 46"> <defs> <path id="a" d="M8 0h28v46H8a8 8 0 0 1-8-8V8a8 8 0 0 1 8-8z"></path> </defs> <g fill="none" fill-rule="evenodd"> <g transform="matrix(-1 0 0 1 36 0)"> <use fill="#FFF" xlink:href="#a"></use> <path stroke="#C0C0C0" d="M35.5 45.5V.5H8A7.5 7.5 0 0 0 .5 8v30A7.5 7.5 0 0 0 8 45.5h27.5z"></path> </g> <path fill="#ACACAC" d="M21.786 16.069L19.818 14.1l-8.432 8.433 8.432 8.432L21.786 29l-6.465-6.465z"></path> </g> </svg> </div> <div class="slick-list"> <div class="slick-track">__SLIDETRACK__</div> </div> <div class="slick-arrow slick-next"> <svg xmlns="http://www.w3.org/2000/svg" width="36" height="46" viewBox="0 0 36 46"> <defs> <path id="a" d="M8 0h28v46H8a8 8 0 0 1-8-8V8a8 8 0 0 1 8-8z"></path> </defs> <g fill="none" fill-rule="evenodd"> <g> <use fill="#FFF" xlink:href="#a"></use> <path stroke="#C0C0C0" d="M35.5 45.5V.5H8A7.5 7.5 0 0 0 .5 8v30A7.5 7.5 0 0 0 8 45.5h27.5z"></path> </g> <path fill="#ACACAC" d="M14.214 16.069l1.968-1.968 8.432 8.433-8.432 8.432L14.214 29l6.465-6.465z"></path> </g> </svg> </div> </div> </div> </div> </div> </div> </div> <div id="mybotSearchFields" class="mybotSearchFields" style="display: none;"> <span> <input type="text" id="mybotSearchBox" class="mybotSearchBox"> <input type="text" class="mybotSearchBoxHidden" value="" placeholder="Translated Query" readonly> </span> <span class="botSendIconDisabled" id="botSendIconDisabled" style="right: 16px;"> <span class="send-button disabled"> <svg fill="#DDD" viewBox="0 0 24 24" height="20" width="20" class="transition-ease-point-3-s" style="vertical-align: middle;"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg> </span> </span> <span class="botSendIconEnabled" id="botSendIconEnabled" style="right: 24px;"> <span class="send-button"> <svg fill="#21abf3" viewBox="0 0 24 24" height="20" width="20" class="transition-ease-point-3-s" style="vertical-align: middle;"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg> </span> </span> </div></mybot>';var element=document.querySelector('body');var child=document.createElement('div');child.innerHTML=html;element.appendChild(child);var rule='mybot .chatCont-left{height:560px!important}mybot .chatCont-right{height:560px!important}mybot{z-index:2147483647}mybot .bot_profile{height:530px}mybot .profile_div{height:120px}mybot .botMessageFromBotWithBorder{max-width:275px!important}mybot .img-profile{height:unset}mybot .bot_p_img{display:inline-block}mybot .botfaceopen{margin-left:-110px!important}mybot .col-hgt-ad-right{height:50px}mybot .col-hgt-right{height:70px!important}mybot .bothead{height:35px}mybot .col-hgt-ad-left{height:50px}mybot .botSmartButton{font-size:11px!important}mybot .face{animation-name:unset!important}@keyframes spin-stretch{40%{transform:rotate(360deg) scale(.4,.33)}100%{transform:rotate(720deg) scale(1,1)}}.mybotcard-container{height:70px;width:70px;position:relative;right:0;top:0}.mybotcard-container>img{height:70px;width:70px;position:absolute;z-index:1}.mybotimg1{-webkit-animation:swap 6s infinite;animation:swap 6s infinite}.mybotimg2{-webkit-animation:swap 6s 3s infinite;animation:swap 6s 3s infinite}@-webkit-keyframes swap{0%{z-index:2}50%{z-index:2}51%{z-index:1}}@keyframes swap{0%{z-index:2}50%{z-index:2}51%{z-index:1}}.animate{transition:transform 0.3s ease-out}mybot .slick-list{width:100%;height:100%;overflow:hidden}mybot .ms-touch.slick-list{overflow-x:scroll;overflow-y:hidden;-ms-overflow-style:none;-ms-scroll-chaining:none;-ms-scroll-snap-type:mandatory;-ms-scroll-snap-points-x:snapInterval(0%,100%)}mybot .slick-track{overflow-y:hidden}.carousel-item{height:100%;position:relative}';var rule_common='@import url(https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700,800|Satisfy);mybot{font-family:"Lato",sans-serif;font-size:14px;line-height:1.42857143;color:#333;position:sticky;cursor:move}mybot p{line-height:1;font-family:monospace;font-size:12px}mybot .PoweredTag p{font-size:10px}mybot *{-webkit-box-sizing:content-box!important;-moz-box-sizing:content-box!important;box-sizing:content-box!important}mybot img{-webkit-user-drag:none;-moz-user-drag:none;-khtml-user-drag:none}mybot .row{margin-right:0;margin-left:0;display:block}mybot .NewsBotTag{display:inline;float:left;margin-left:10px;font-family:cursive;color:#fff}mybot .NewsBotTag>p{margin-top:10px;margin-bottom:10px}mybot .PoweredTag{display:inline;float:right;font-size:10px;margin-right:5px;font-family:monospace;color:#337ab7}mybot .botSendIconEnabled{display:none}mybot .botSearch{position:relative;text-align:center;font-size:13px;font-weight:600;border-top:solid 1px #eaeaea;background:#fff;color:rgb(33,171,243);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:0.2s ease-out;margin-left:8px;margin-top:-8px;margin-bottom:8px;border-radius:6px;max-height:350px;overflow-y:auto}mybot .mybotSearchBox{display:inline-block;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;padding:10px;width:240px;border-radius:6px;-webkit-border-radius:6px;-moz-border-radius:6px;border:1px solid #f0f0f0}mybot .mybotSearchBoxHidden{box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;padding:10px;width:240px;border-radius:6px;-webkit-border-radius:6px;-moz-border-radius:6px;border:1px solid #f0f0f0;display:none}mybot .mybotSearchButton{background:#6760CF;padding:8px 20px 8px 20px;border-radius:5px;-webkit-border-radius:5px;-moz-border-radius:5px;color:#fff;text-shadow:1px 1px 3px rgba(0,0,0,.12);-moz-box-shadow:inset 0 2px 2px 0 rgba(255,255,255,.17);-webkit-box-shadow:inset 0 2px 2px 0 rgba(255,255,255,.17);box-shadow:inset 0 2px 2px 0 rgba(255,255,255,.17);border:1px solid #257C9E;font-size:15px}mybot .botSearch::-webkit-scrollbar{width:6px;background-color:#F5F5F5}mybot .botSearch::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,.5);box-shadow:0 0 1px rgba(255,255,255,.5)}mybot .botSearchResults::-webkit-scrollbar{width:6px;background-color:#F5F5F5}mybot .botSearchResults::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,.5);box-shadow:0 0 1px rgba(255,255,255,.5)}mybot #botSearchOld{display:none}mybot .image-section-search{width:198px;height:140px;background-size:200px 140px;font-size:20px;color:#fff;text-align:center;vertical-align:middle;display:table-cell}mybot svg g use{display:none}mybot a,mybot a:hover,mybot a:focus{text-decoration:none;outline:none}mybot .bothead{background:#6760CF;border-radius:10px 10px 0 0}mybot .botBodyChat{width:320px;height:500px;overflow-y:scroll}mybot .botBodyChat::-webkit-scrollbar{width:6px;background-color:#F5F5F5}mybot .botBodyChat::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,.5);box-shadow:0 0 1px rgba(255,255,255,.5)}mybot .botMessageFromBotWithBorder{-ms-flex-align:start;align-items:flex-start;min-width:64px;max-width:250px;padding-left:10px;background-color:#fff;border:solid 1px #E6E6E6;color:#333;padding:0 8px;font-size:13px;text-align:left;border-radius:6px;display:block;clear:both;position:relative;word-break:break-word;-ms-box-shadow:0 0 8px 0 rgba(0,0,0,.05);-o-box-shadow:0 0 8px 0 rgba(0,0,0,.05);box-shadow:0 0 8px 0 rgba(0,0,0,.05)}mybot .botMessageFromBot{-ms-flex-align:start;align-items:flex-start;min-width:64px;max-width:250px;padding-left:10px;background-color:#fff;color:#333;padding:0 8px;font-size:13px;text-align:left;display:block;clear:both;position:relative;word-break:break-word;-ms-box-shadow:0 0 8px 0 rgba(0,0,0,.05);-o-box-shadow:0 0 8px 0 rgba(0,0,0,.05);box-shadow:0 0 8px 0 rgba(0,0,0,.05)}mybot .botMessageHeadMessage{padding:8px}mybot .botMessageFromUser{-ms-flex-align:end;align-items:flex-end;min-width:64px;max-width:250px;padding-right:10px;border-radius:8px;padding:8px;font-size:13px;text-align:left;display:block;clear:both;position:relative;word-break:break-word;overflow:hidden;-ms-box-shadow:0 1px 3px 0 rgba(0,0,0,.08);-o-box-shadow:0 1px 3px 0 rgba(0,0,0,.08);box-shadow:0 1px 3px 0 rgba(0,0,0,.08);color:#fff;background-color:rgb(33,171,243);float:right;white-space:pre-line;overflow:visible}mybot .botSmartButton{position:relative;text-align:center;font-size:13px;font-weight:600;border-top:solid 1px #eaeaea;background:#fff;color:rgb(33,171,243);padding:8px!important;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:0 8px;transition:0.2s ease-out;cursor:pointer}mybot .botSmartButtonSpan2{position:relative;-webkit-flex:1;display:inline-block;display:-webkit-inline-flex;display:-ms-inline-flexbox;width:49%;justify-content:center;-webkit-box-pack:justify;-moz-box-pack:justify;-ms-flex-pack:justify}mybot .botSmartButtonSpan{position:relative;-webkit-flex:1;border-right:solid 1px #eaeaea;display:inline-block;display:-webkit-inline-flex;display:-ms-inline-flexbox;width:50%;justify-content:center;-webkit-box-pack:justify;-moz-box-pack:justify;-ms-flex-pack:justify}mybot .botfloatContainerBot{float:left;padding-left:8px}mybot .botfloatContainerUser{float:right;padding-right:8px}mybot .botMessageItemWrapper{position:relative;margin:0;max-width:100vw;z-index:2;clear:both;overflow:hidden;will-change:height;margin-bottom:8px;animation:mybot-slide-up-fade-in ease 1s;animation-iteration-count:1;transform-origin:50% 50%;animation-fill-mode:forwards;-webkit-animation:mybot-slide-up-fade-in ease 1s;-webkit-animation-iteration-count:1;-webkit-transform-origin:50% 50%;-webkit-animation-fill-mode:forwards;-moz-animation:mybot-slide-up-fade-in ease 1s;-moz-animation-iteration-count:1;-moz-transform-origin:50% 50%;-moz-animation-fill-mode:forwards;-o-animation:mybot-slide-up-fade-in ease 1s;-o-animation-iteration-count:1;-o-transform-origin:50% 50%;-o-animation-fill-mode:forwards;-ms-animation:mybot-slide-up-fade-in ease 1s;-ms-animation-iteration-count:1;-ms-transform-origin:50% 50%;-ms-animation-fill-mode:forwards;opacity:0}@keyframes mybot-slide-up-fade-in{0%{opacity:0;transform:translate(0,40px)}100%{opacity:1;transform:translate(0,0)}}@-moz-keyframes mybot-slide-up-fade-in{0%{opacity:0;-moz-transform:translate(0,40px)}100%{opacity:1;-moz-transform:translate(0,0)}}@-webkit-keyframes mybot-slide-up-fade-in{0%{opacity:0;-webkit-transform:translate(0,40px)}100%{opacity:1;-webkit-transform:translate(0,0)}}@-o-keyframes mybot-slide-up-fade-in{0%{opacity:0;-o-transform:translate(0,40px)}100%{opacity:1;-o-transform:translate(0,0)}}@-ms-keyframes mybot-slide-up-fade-in{0%{opacity:0;-ms-transform:translate(0,40px)}100%{opacity:1;-ms-transform:translate(0,0)}}mybot.powered{font-size:17px;margin-top:20px}mybot.powered img{width:110px;position:relative;top:8px}mybot.footer{margin-top:50px;position:absolute;bottom:40px;width:auto;left:0;right:0;margin:0 auto}mybot .chatCont-right{position:fixed;width:320px;bottom:0;right:0;background:#f5f5f5;border-radius:10px 10px 0 0;z-index:10000;display:none;cursor:default}mybot .chatCont-left{position:fixed;width:320px;bottom:0;left:0;background:#f5f5f5;border-radius:10px 10px 0 0;z-index:10000;display:none;cursor:default}mybot .close{position:absolute;right:5px;margin-top:10px;color:#000;font-size:18px;cursor:pointer;opacity:1;filter:invert(98%) sepia(98%) saturate(9%) hue-rotate(155deg) brightness(10) contrast(103%)}mybot .closeBotFront{position:absolute;right:5px;margin-top:20px;color:#000;font-size:18px;cursor:pointer;display:none;width:20px}mybot .bot_profile{position:absolute;right:0;text-align:center;width:320px;font-size:13px;display:none;z-index:1000}mybot .bot_p_img{height:80px;margin-top:-40px}@keyframes mybot-spin{10%{transform:rotateY(-90deg)}20%{transform:rotateY(0deg)}30%{transform:rotateY(0deg)}40%{transform:rotateY(0deg)}50%{transform:rotateY(0deg)}60%{transform:rotateY(-90deg)}70%{transform:rotateY(0deg)}80%{transform:rotateY(0deg)}90%{transform:rotateY(0deg)}100%{transform:rotateY(0deg)}}mybot .botfaceopen{margin-left:-40px}mybot .botChatwave{width:100px;position:absolute;bottom:20px;display:none}mybot .botdot{display:inline-block;width:8px;height:8px;border-radius:50%;margin-right:3px;background:#303131;animation:mybot-botChatwave 0.9s linear infinite}mybot .botdot:nth-child(2){animation-delay:-0.7s}mybot .botdot:nth-child(3){animation-delay:-0.5s}@keyframes mybot-botChatwave{0%,60%,100%{transform:initial}30%{transform:translateY(-10px)}}mybot .profile_div{position:fixed;bottom:0;right:0;width:320px;cursor:default;pointer-events:none}mybot .profile_div-left{position:fixed;bottom:0;left:0px!important;width:320px;cursor:default;pointer-events:none}mybot .mybotimgprofile{cursor:pointer;pointer-events:auto}mybot .col-hgt-right{height:100px;display:flex;align-items:center;float:right;cursor:default!important}mybot .col-hgt-left{height:100px;display:flex;align-items:center;float:left;cursor:default!important}mybot .col-hgt-ad-right{display:flex;pointer-events:auto;align-items:center;float:right}mybot .col-hgt-ad-left{display:flex;align-items:center;float:left;pointer-events:auto}mybot .face{animation-name:mybot-spin;animation-duration:5000ms;animation-iteration-count:infinite;animation-timing-function:linear;transform:translate3d(0,0,0);backface-visibility:hidden;perspective:1000px}@keyframes mybot-mybotshake{1%,3%{transform:translate3d(-2px,0,0)}2%,3%{transform:translate3d(3px,0,0)}2%,4%,6%{transform:translate3d(-5px,0,0)}3%,5%{transform:translate3d(5px,0,0)}}mybot .newsBotBundle2{display:none}mybot .carousel-container .slick-initialized{display:block;position:relative;top:0}mybot .slick-initialized{display:block;clear:both;position:relative}mybot .slick-slider{position:relative;display:block;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-touch-callout:none;-khtml-user-select:none;-ms-touch-action:pan-y;touch-action:pan-y;-webkit-tap-highlight-color:transparent}mybot .carousel-container .slick-list{margin:0 8px}mybot .slick-slider .slick-track,.slick-slider .slick-list{transform:translate3d(0,0,0)}mybot .slick-list{margin:0!important;margin-left:8px!important;transition:ease all 0.1s}mybot .slick-list{position:relative;display:block;overflow:visible;margin:0 -6px;padding:0}mybot .slick-slider .slick-track,.slick-slider .slick-list{transform:translate3d(0,0,0)}mybot .slick-close-text{margin-top:5px}mybot .slick-track-close{margin-top:30px}mybot .slick-track{display:-ms-flexbox;display:flex}mybot .slick-track{position:relative;top:0;left:0;min-width:10000px;display:block}mybot .slick-track .slick-slide{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;height:auto}mybot .slick-track .slick-slide{display:block;height:auto}mybot .slick-slide{display:none;float:left;min-height:1px}mybot .carousel-item{font-size:13px;border-radius:8px;padding:0;margin-right:12px;overflow:hidden;border:solid 1px #e6e6e6;width:85%;background-color:#f7f7f7;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-box-shadow:0 2px 8px rgba(0,0,0,.1);-o-box-shadow:0 2px 8px rgba(0,0,0,.1);box-shadow:0 2px 8px rgba(0,0,0,.1)}mybot .image-section{-ms-background-size:cover;background-size:cover;-webkit-background-position:center center;-moz-background-position:center center;-ms-background-position:center center;-o-background-position:center center;background-position:center center;-webkit-background-repeat:no-repeat;-moz-background-repeat:no-repeat;-ms-background-repeat:no-repeat;-o-background-repeat:no-repeat;background-repeat:no-repeat;background-color:#fff;text-align:center;-moz-border-top-left-radius:3px;-border-top-left-radius:3px;border-top-left-radius:3px;-moz-border-top-right-radius:3px;border-top-right-radius:3px}mybot .carousel-actionable-area{display:block;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}mybot .carousel-actionable-area{margin:0;margin-top:auto}mybot .slick-prev{display:block;position:absolute;top:100px;left:-20px;z-index:1;cursor:pointer;width:36px;height:46px;border:solid silver 1px;border-radius:10%;background-color:#fff}mybot .slick-next{display:block;cursor:pointer;position:absolute;top:100px;right:-50px;z-index:1;width:36px;height:46px;border:solid silver 1px;border-radius:10%;background-color:#fff}mybot .slick-close{top:0;height:35px;width:25px;padding-left:5px;display:none;position:absolute;left:-20px;z-index:1;cursor:pointer;border:solid silver 1px;border-radius:10%;background-color:#fff}mybot .slick-close-show{top:-30px;height:20px!important;width:275px;display:block;position:absolute;left:10px;z-index:1;cursor:pointer;border:solid silver 1px;border-radius:10px;box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);background:#24C6DC;background:-webkit-linear-gradient(to right,#514A9D,#24C6DC);background:linear-gradient(to right,#514A9D,#24C6DC);color:#fff;text-align:center}mybot .slick-next img{-moz-transform:scaleX(-1);-o-transform:scaleX(-1);-webkit-transform:scaleX(-1);transform:scaleX(-1);filter:FlipH;-ms-filter:"FlipH"}mybot .slick-track{opacity:1;transform:translate3d(0,0,0);width:800px}mybot .carousel-item{width:200px}mybot .image-section{width:198px;font-size:20px;color:#fff;text-align:center;vertical-align:middle;display:table-cell;height:140px}mybot .carousel-actionable-area{background:#fff;text-align:center}mybot .carousel-content-area{padding:8px;max-height:120px;overflow:auto}mybot .carousel-content-area::-webkit-scrollbar{width:6px;background-color:#F5F5F5}mybot .carousel-content-area::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,.5);box-shadow:0 0 1px rgba(255,255,255,.5)}';var css=document.createElement('style');css.type='text/css';if(css.styleSheet){css.styleSheet.cssText=rule+rule_common;}else{css.appendChild(document.createTextNode(rule));css.appendChild(document.createTextNode(rule_common));}document.getElementsByTagName('head')[0].appendChild(css);callOnDocumentReady();});